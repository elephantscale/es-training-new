# Introduction to Malware Analysis

# Malware

## What is malware analysis

* Malware is a code that performs malicious actions
* it can take the form of an executable, script, code, or any other software.
* Attackers use malware to 
  * steal sensitive information 
  * spy on the infected system 
  * take control of the system
* Typically, gets into your system without your consent
  * can be delivered via various communication channels 
    * email
    * web
    * USB drives.
    
---

## Resources

* Learning Malware Analysis By Monnappa K A
* 4.8 Amazon rating out of 113 reviews
[https://learning.oreilly.com/library/view/learning-malware-analysis/9781788392501/](https://learning.oreilly.com/library/view/learning-malware-analysis/9781788392501/)

## Monnappa K A

![](../images/monappa.jpeg)

Security Researcher, Author of the book Learning Malware Analysis, Trainer at Black Hat/HITB/BruCON, Review Board Member of Black Hat USA/Europe/Asia, Creator of Limon Sandbox.

---

## What goes into Malware analysis

* Malware analysis
  * types of malware analysis
  * and setting up an isolated malware analysis lab environment.

* Static Analysis
  * tools and techniques to extract metadata information from the malicious binary
  * compare and classify malware samples
  * how to determine various aspects of the binary  without executing it.

* Dynamic Analysis
  * tools and techniques to determine the behavior of the malware
  * how to obtain the network and host-based indicators associated with the malware.

---

## What goes into malware analysis cont'd

* Assembly Language and Disassembly Primer
  * basic understanding of assembly language 
  * Disassembly 

* Debugging Malicious Binaries
  * debugging a binary 
  * how to use a debugger to control the execution of a program 
  * manipulate a program's behavior.

* Malware Functionalities and Persistence
  * functionalities of malware using reverse engineering.
  * It also covers various persistence methods used by the malicious programs


---

## What goes into malware analysis, cont'd

* Code Injection and Hooking
  * code injection techniques used by the malicious programs to execute malicious code
  * hooking techniques 

* Malware Obfuscation Techniques
  * encoding
  * encryption
  * packing 
  * decode/decrypt the data and unpack the malicious binary
  

* Hunting Malware Using Memory Forensics
  * detect malicious components using memory forensics
  * Volatility  plugins to detect and identify forensic artifacts in memory

* Detecting Advanced Malware Using Memory Forensics
  * stealth techniques 
  * user mode and kernel mode rootkit components

---

## Why Malware Analysis?

* To determine the nature and purpose of the malware
  * determine whether malware is an information stealer, HTTP bot, spam bot, rootkit, keylogger, etc.
* How the system was compromised and its impact
* Network indicators associated with the malware
  * malware contacts a particular domain/IP address?
  * create a signature and monitor the network traffic 

---

## Types Of Malware Analysis
* Static analysis
  * analyzing a binary without executing it
* Dynamic analysis (Behavioral Analysis)
  * executing the suspect binary in an isolated environment
* Static analysis
  * Static
  * Dynamic
    * debugging the suspect binary in a controlled manner to understand its functionality
* Memory analysis (Memory forensics)
  * analyzing the computer's RAM for forensic artifacts

---

## Lab preparation ideas

* Keep your virtualization software up to date
* Install a fresh copy of the operating system inside the virtual machine (VM)
* While analyzing a malware, you don't want the malware to reach out to the Internet
* Do not connect any removable media 
* If you will be analyzing Windows malware choose a base operating system such as Linux

Notes:

* Keep your virtualization software up to date. This is necessary because it might be possible for malware to exploit a vulnerability in the virtualization software, escape from the virtual environment, and infect your host system.
* Install a fresh copy of the operating system inside the virtual machine (VM), and do not keep any sensitive information in the virtual machine.
* While analyzing a malware, if you don't want the malware to reach out to the Internet, then you should consider using host-only network configuration mode or restrict your network traffic within your lab environment using simulated services.
* Do not connect any removable media that might later be used on the physical machines, such as USB drives.
* Since you will be analyzing Windows malware (typically Executable or DLL), it is recommended to choose a base operating system such as Linux or macOS X for your host machine instead of Windows. This is because, even if a Windows malware escapes from the virtual machine, it will still not be able to infect your host machine.

---

## Congrats on completion


![](../images/congrats.png)

---