# Stating a problem
<img src="../images/problem.jpg" style="width:35%;"/>

---

# Automating the management and deployment of a large infrastructure


---

# Answer

<img src="../images/answer.jpg" style="width:25%; float: right; top:10px"/>


---

<img src="../../assets/images/ansible/ansible.jpg" style="width:25%;"/>

# Ansible



---

<img src="../what.jpg" style="width:25%;"/>

## What is Ansible?

* Ansible is a simple IT automation tool that makes your applications and systems easier to deploy.
* Avoid writing scripts or custom code to deploy and update your applications
* automate in a language that approaches plain English, using SSH, with no agents to install on remote systems.
* Ansible is agentless, so you donâ€™t have to install software on remote systems to manage them.

---

## Where to use Ansible

* Configuration Management
* Application Deployment
* Continuous Delivery
* Orchestration
* Security Automation
* Multi-Tier Applications
* Cloud Provisioning
* Network Automation
* And more...

---

## Agentless

Target systems do not need to have any software installed on them to be managed by Ansible.

Tasks are executed over SSH by default, but can also be executed locally.

<img src="../images/img.png" style="width:35%;"/>

<span style="font-size:15px; color:red">_except for Windows systems, which require a small Python executable to be installed._</span>

---

# Why Agentless?

The reasons for this choice in the Ansible design are many, not least that just about every Linux/FreeBSD/macOS host has it built in, as do many network devices such as switches and routers.

---

# Idempotent

Ansible is idempotent, meaning that it can be run multiple times without changing the state of the system.

---

<img src="../note.jpg" style="width:45%;"/>


Ansible is not a configuration management tool

BUT

it can be used to manage configuration files.

---

<img src="../images/img_6.png" style="width:65%;"/>

## Ansible Terms

---

# Inventory

---


## Inventory

* A list of hosts that Ansible can manage
* Can be static or dynamic
* Can be defined in a file or in the command line


```ini

mailserver mail.example.com

[webserver]
foo.example.com
bar.example.com

[appserver]
one.example.com
two.example.com
three.example.com
mailserver
```
---

## INI Format

* The INI format is a simple format that uses sections and key/value pairs
* The sections are the groups of hosts
* The key/value pairs are the hosts and their attributes
* The attributes are optional
* The attributes are used to define the connection parameters
* The attributes are defined in the form of key=value pairs
* The attributes are defined after the host name

---

## Static Inventory

* A static inventory is a list of hosts defined in a file
* The file is usually called `hosts` and is located in the `/etc/ansible` directory
* The file can be in any format, but the most common one is the INI format

---

## Example

```ini
[webserver]
<Machine-IP>  ansible_ssh_pass=<Password>


[webserver:vars]
ansible_user=<Username>

[appserver]
<Machine-IP> ansible_ssh_pass=<Password>

[appserver:vars]
ansible_user=<Username> # ( ubuntu in our environment )
```

---

## Dynamic Inventory

* A dynamic inventory is a list of hosts that is generated by a script
* The script can be written in any language
* The script can be written to query a database, a cloud provider, or any other source
* The script must return a JSON object with the list of hosts and their attributes
* The script must be located in the `/etc/ansible` directory

---